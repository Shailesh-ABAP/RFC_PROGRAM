*&---------------------------------------------------------------------*
*& Include          ZBP_UPLOAD_PROGRAM_CUST_TOP
*&---------------------------------------------------------------------*
TYPE-POOLS : truxs.
TYPES: BEGIN OF ty_file,
*         vend_acct          TYPE lifnr,
         comp_code          TYPE bukrs,
         pur_org            TYPE ekorg,
         vend_grp           TYPE ktokk,
         central_add        TYPE ad_prsaddr,
         name1              TYPE ad_name1,
         name2              TYPE ad_name2,
         sort1              TYPE ad_sort1,
         street1            TYPE ad_street,
         street2            TYPE ad_strspp1,
         street3            TYPE ad_strspp2,
         street4            TYPE ad_strspp3,
         street5            TYPE ad_lctn,
         district           TYPE ad_city2,
         post_code          TYPE ad_pstcd1,
         city1              TYPE ad_city1,
         country            TYPE land1,
         region             TYPE regio,
         lang               TYPE langu,
         tel_no             TYPE ad_tlnmbr1,
         mob_no             TYPE ad_tlnmbr1,
         fax_no             TYPE ad_fxnmbr1,
         mail               TYPE ie_email,
         uri                TYPE ad_uri_1,
         tax_no1            TYPE stcd1,
         tax_no2            TYPE stcd2,
         tax_no3            TYPE stcd3,
         tax_no4            TYPE stcd4,
         tax_no5            TYPE stcd5,
         vat_no             TYPE stceg,
         vat_lia            TYPE stkzu,
         cr_info_no         TYPE credit_card_number,
         bank_cntry_key     TYPE banks,
         bank_key           TYPE bankl,
         bank_name          TYPE banka,
         house_no           TYPE stras,
         city               TYPE ort01,
         bank_branch        TYPE brnch,
         swift              TYPE swift,
         acc_no             TYPE bankn,
         contact_person1    TYPE ad_name1,
         contact_dpt1       TYPE abtnr_pa,
         contact_fnc1       TYPE bu_pafkt,
         contact_tel1       TYPE crmt_tel_vnumber,
         contact_mob1       TYPE contactcardmobilephonenumber,
         contact_mail1      TYPE bi_smtp_addr,
         contact_person2    TYPE ad_name1,
         contact_dpt2       TYPE abtnr_pa,
         contact_fnc2       TYPE bu_pafkt,
         contact_tel2       TYPE crmt_tel_vnumber,
         contact_mob2       TYPE contactcardmobilephonenumber,
         contact_mail2      TYPE bi_smtp_addr,
         recon_acct         TYPE akont,
         sort_key(3)        TYPE c,
         plan_grp           TYPE fdgrv,
         payment_method(10) TYPE c,
         with_cntry         TYPE qland,
         prev_master        TYPE altkn,
         terms_pay          TYPE ers_zterm,
         cr_memo_flag       TYPE reprf,
         acc_clerk          TYPE busab,
         pur_curr           TYPE waers,
         inco1              TYPE inco1,
         inco2              TYPE inco2,
         cal_grp            TYPE kalsk,
         gr_ind             TYPE webre,
         ser_ind            TYPE lebre,
         auto_gen           TYPE kzaut,
         grant_dis          TYPE c,
         pur_grp            TYPE ekgrp,
         del_time           TYPE plifz,
         control_key        TYPE bstae,
         with_tax_type      TYPE witht,
         with_tax_code      TYPE wt_code_excl_fr,
         with_tax           TYPE wt_detail,
         ers                TYPE c,
         auto_ers           TYPE c,
         dlgrp              TYPE dlgrp,
         plant              TYPE werks_d,
       END OF ty_file,

       BEGIN OF ty_file_cust,
         cus_acct       TYPE kunnr,
         cust_code      TYPE kunnr,
         acct_grp       TYPE cnv_ktokd_neu,
         comp_code      TYPE bukrs,
         sales_org      TYPE vkorg,
         dist_ch        TYPE vtweg,
         div            TYPE spart,
         name1          TYPE ad_name1,
         name2          TYPE ad_name2,
         sort1          TYPE ad_sort1,
         sort2          TYPE ad_sort2,
         bpext          TYPE bu_bpext,
         country        TYPE land1,
         region         TYPE regio,
         post_code      TYPE ad_pstcd1,
         city(40)       TYPE c,
         street1        TYPE ad_street,    " str_suppl1
         street2        TYPE ad_strspp3,    " " str_suppl2
         street3        TYPE ad_strspp3, " str_suppl3
         lang           TYPE langu,
         tel_no         TYPE ad_tlnmbr1,
         mob_no         TYPE ad_tlnmbr1,
         fax_no         TYPE ad_fxnmbr1,
         mail           TYPE ie_email,
         bank_cntry_key TYPE banks,
         bank_key       TYPE bankl,
         bank_acc_no    TYPE bankn,
         pannum         TYPE bptaxnum,
         gstin          TYPE char20,
         recon_acct     TYPE akont,
         prev_acct      TYPE altkn,
         zterm_inv      TYPE dzterm,
         vkbur          TYPE vkbur,
         vkgrp          TYPE vkgrp,
         kdgrp          TYPE kdgrp,
         curr           TYPE waers,
         konda          TYPE konda,
         price_proc     TYPE kalks,
         pltyp          TYPE pltyp,
         ship_cond      TYPE vsbed,
         kzazu          TYPE kzazu_d,
         inco1          TYPE inco1,
         inco2          TYPE inco2,
         acct_ass       TYPE ktgrd, "Account Assignment Group
         tatyp1         TYPE tatyp,
         taxkd1         TYPE takld,
         tatyp2         TYPE tatyp,
         taxkd2         TYPE takld,
         tatyp3         TYPE tatyp,
         taxkd3         TYPE takld,
         tatyp4         TYPE tatyp,
         taxkd4         TYPE takld,
         tatyp5         TYPE tatyp,
         taxkd5         TYPE takld,
         tatyp6         TYPE tatyp,
         taxkd6         TYPE takld,
       END OF ty_file_cust,

       BEGIN OF ty_file_ship,
         kunnr TYPE kunnr, "Sold to Party- Run ID
         kunag TYPE kunag, "Ship to party
         vkorg TYPE vkorg , "Sales Organisation
       END OF ty_file_ship.

DATA: gt_alv TYPE STANDARD TABLE OF cvis_bp_return,
      go_alv TYPE REF TO cl_salv_table.

TYPES: BEGIN OF ty_vend,
         vend_acct            TYPE lifnr,
         comp_code            TYPE bukrs,
         pur_org              TYPE ekorg,
         vend_grp             TYPE ktokk,
         bp_grp               TYPE bu_group, " BP group
         name1                TYPE ad_name1,
         name2                TYPE ad_name2,
         name3                TYPE ad_name3,
         name4                TYPE ad_name4,
         sort1                TYPE ad_sort1,
         street1              TYPE ad_street,
         street2              TYPE ad_strspp1,
         street3              TYPE ad_strspp2,
         time_zone            TYPE ad_tzone,
         title                TYPE ad_title,
         district             TYPE ad_city2,
         post_code            TYPE ad_pstcd1,
         city1                TYPE ad_city1,
         country              TYPE land1,
         region               TYPE regio,
         lang                 TYPE langu,
         tel_no               TYPE ad_tlnmbr1,
         mob_no               TYPE ad_tlnmbr1,
         fax_no               TYPE ad_fxnmbr1,
         mail                 TYPE ie_email,
         taxnumber            TYPE bptaxnum,
         pannum               TYPE bptaxnum,
         bpkind               TYPE bu_bpkind, "PAN Num for IN2
         recon_acct           TYPE akont,
         sort_key             TYPE dzuawa,
         prev_master          TYPE altkn,
         terms_pay            TYPE ers_zterm,
         reprf                TYPE reprf,
         with_tax_type1       TYPE witht,
         with_tax_code1       TYPE wt_code_excl_fr,
         with_tax1            TYPE wt_detail,
         qsrec1               TYPE qsrec,
         with_tax_type2       TYPE witht,
         with_tax_code2       TYPE wt_code_excl_fr,
         with_tax2            TYPE wt_detail,
         qsrec2               TYPE qsrec,
         with_tax_type3       TYPE witht,
         with_tax_code3       TYPE wt_code_excl_fr,
         with_tax3            TYPE wt_detail,
         qsrec3               TYPE qsrec,
         with_tax_type4       TYPE witht,
         with_tax_code4       TYPE wt_code_excl_fr,
         with_tax4            TYPE wt_detail,
         qsrec4               TYPE qsrec,
         with_tax_type5       TYPE witht,
         with_tax_code5       TYPE wt_code_excl_fr,
         with_tax5            TYPE wt_detail,
         qsrec5               TYPE qsrec,
         with_tax_type6       TYPE witht,
         with_tax_code6       TYPE wt_code_excl_fr,
         with_tax6            TYPE wt_detail,
         qsrec6               TYPE qsrec,
         with_tax_type7       TYPE witht,
         with_tax_code7       TYPE wt_code_excl_fr,
         with_tax7            TYPE wt_detail,
         qsrec7               TYPE qsrec,
         with_tax_type8       TYPE witht,
         with_tax_code8       TYPE wt_code_excl_fr,
         with_tax8            TYPE wt_detail,
         qsrec8               TYPE qsrec,
         with_tax_type9       TYPE witht,
         with_tax_code9       TYPE wt_code_excl_fr,
         with_tax9            TYPE wt_detail,
         qsrec9               TYPE qsrec,
         with_tax_type10      TYPE witht,
         with_tax_code10      TYPE wt_code_excl_fr,
         with_tax10           TYPE wt_detail,
         qsrec10              TYPE qsrec,
         pur_curr             TYPE waers,
         inco1                TYPE inco1,
         inco2_l              TYPE inco2_l,
         inco3_l              TYPE inco3_l,
         gr_ind               TYPE webre,
         ser_ind              TYPE lebre,
         pur_grp              TYPE ekgrp,
         plifz                TYPE char3, "plifz,
         kalsk                TYPE kalsk,
         empid                TYPE tlfns,
         customer             TYPE kunnr,
         aadhar               TYPE char20,
*--Bank Detail
         bank_cntry_key       TYPE banks,
         bank_key             TYPE bankl,
         bank_acc_no          TYPE bankn,
         bank_acc_name        TYPE bu_bankaccname,
         bank_acc_holder_name TYPE bu_bankaccname,
         contact_per          TYPE char30, "Passed in BP General : ADDRESS:Comments
         busab                TYPE char2,
       END OF ty_vend,

*       BEGIN OF ty_cust,
*         cust_code  TYPE kunnr,
*         acct_grp   TYPE ktokd,
*         bp_role    TYPE bu_role,
*         bp_grp     TYPE bu_group,
*         sales_org  TYPE vkorg,
*         dist_ch    TYPE vtweg,
*         div        TYPE spart,
*         cc_bp_rol  TYPE bu_role,
*         recon_acct TYPE akont,
*         prev_cust  TYPE bu_title_let,
*         name1      TYPE ad_name1,
*         name2      TYPE ad_name2,
*         sort1      TYPE ad_sort1,
*         street1    TYPE ad_street,
*         street2    TYPE ad_strspp3,
*         street3    TYPE ad_strspp3,
*         post_code  TYPE ad_pstcd1,
*         city(40)   TYPE c,
*         country    TYPE land1,
*         region     TYPE regio,
*         tel_no     TYPE ad_tlnmbr1,
*         mob_no     TYPE ad_tlnmbr1,
*         fax_no     TYPE ad_fxnmbr1,
*         mail       TYPE ie_email,
*         bank_name  TYPE banka,
*         acct_no    TYPE bankn,
*         pan_no     TYPE bahne,
*         adhar_no   TYPE bahns,
*         gst_typ    TYPE kvgr1,
*         gstin      TYPE char30,
*         cust_grp   TYPE kdgrp,
*         vkgrp      TYPE vkgrp,
*         vkbur      TYPE vkbur,
*         price_proc TYPE kalks,
*         tax_cat    TYPE tatyp,
*         ord_prob   TYPE awahr,
*         inco1      TYPE inco1,
*         inco_loc   TYPE inco2_l,
*         zterm_inv  TYPE dzterm,
*         acct_ass   TYPE ktgrd,
**         bp_cat     TYPE bu_type,
*       END OF ty_cust,

       BEGIN OF ty_ship,
         kunnr TYPE kunnr, "Sold to Party- Run ID
         kunag TYPE kunag, "Ship to party
         vkorg TYPE vkorg , "Sales Organisation
       END OF ty_ship.

DATA: gt_vend   TYPE STANDARD TABLE OF ty_vend,
      gt_vend_1 TYPE STANDARD TABLE OF ty_vend,
      gt_cust   TYPE STANDARD TABLE OF ty_file_cust,
      gt_ship   TYPE STANDARD TABLE OF ty_ship.

DATA: gt_file      TYPE STANDARD TABLE OF ty_file,
      gt_file_cust TYPE STANDARD TABLE OF ty_file_cust,
      gt_file_ship TYPE STANDARD TABLE OF ty_file_ship,
      gt_ret       TYPE TABLE OF cvis_bp_return,
      gv_commit    TYPE swo_commit.

DATA : it_raw TYPE truxs_t_text_data.


SELECTION-SCREEN : BEGIN OF BLOCK b3 WITH FRAME TITLE TEXT-002.
  PARAMETERS: p_create RADIOBUTTON GROUP r2 DEFAULT 'X',
              p_creat  RADIOBUTTON GROUP r2 MODIF ID m1,
              p_change RADIOBUTTON GROUP r2,
              p_comp   RADIOBUTTON GROUP r2,
              p_sorg   RADIOBUTTON GROUP r2 MODIF ID m1,
              p_org    RADIOBUTTON GROUP r2 MODIF ID m2.
SELECTION-SCREEN : END OF BLOCK b3.

SELECTION-SCREEN : BEGIN OF BLOCK b1 WITH FRAME TITLE TEXT-003.
  PARAMETERS: p_file   TYPE  rlgrap-filename,
              p_brow   TYPE i,
              p_erow   TYPE i,
              p_ship   TYPE rlgrap-filename MODIF ID m1,
              p_brow_s TYPE i MODIF ID m1,
              p_erow_s TYPE i MODIF ID m1,
              p_test   AS CHECKBOX.
SELECTION-SCREEN : END OF BLOCK b1.

SELECTION-SCREEN : BEGIN OF BLOCK b2 WITH FRAME TITLE TEXT-002.
  PARAMETERS : r_cus TYPE char1 RADIOBUTTON GROUP rb1 USER-COMMAND cmd1 DEFAULT 'X',
               r_ven TYPE char1 RADIOBUTTON GROUP rb1.
SELECTION-SCREEN : END OF BLOCK b2.
